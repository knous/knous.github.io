<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/Knous.png"/>
	<link rel="shortcut icon" href="/img/Knous.png">
	
			    <title>
    Knous
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="Knous" />
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<meta name="generator" content="Hexo 6.2.0"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">Knous</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/Linux/">Linux</a></li><li><a class="category-link" href="/categories/test/">test</a></li><li><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="关于我">
		                关于我
		            </a>
		        </li>
		        
		        <li>
		            <a href="/Learn/" title="学习记录">
		                学习记录
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/knous" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url();background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >avl</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <hr>
<h1 id="AVL树的概念"><a href="#AVL树的概念" class="headerlink" title="AVL树的概念"></a>AVL树的概念</h1><blockquote>
<p>二叉搜索树虽可以缩短查找的效率，但如果数据有序或接近有序二叉搜索树将退化为单支树，查找元素相当于在顺序表中搜索元素，效率低下。因此，两位俄罗斯的数学家G.M.Adelson-Velskii和E.M.Landis在1962年发明了一种解决上述问题的方法：当向二叉搜索树中插入新结点后，如果能保证每个结点的左右子树高度之差的绝对值不超过1(需要对树中的结点进行调整)，即可降低树的高度，从而减少平均搜索长度。</p>
</blockquote>
<p> 简单来说，就是一颗二叉搜索树，这颗树每一个节点的左右子树高度差的绝对值都不能超过1且都是AVL树</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159342.png" alt="img"></p>
<p>这样结构的好处就是，我们搜索起来它的时间复杂度是O（logN）</p>
<h1 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h1><p>AVL树与之前碰见的二叉树不一样，它节点是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">template&lt;class T&gt;</span><br><span class="line">struct AVLTreeNode</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	AVLTreeNode&lt;T&gt;* _parent; //父亲节点</span><br><span class="line">	AVLTreeNode&lt;T&gt;* _left;	 //左孩子</span><br><span class="line">	AVLTreeNode&lt;T&gt;* _right;	 //右孩子</span><br><span class="line">	T _val;					 //值</span><br><span class="line"></span><br><span class="line">	int bf;					 //平衡因子</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>它多了一个父节点，同时多了一个平衡因子，这个平衡因子就是来帮助我们之后调整二叉树的。</p>
<p>快速写一个构造函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AVLTreeNode(const T&amp; val = T())</span><br><span class="line">	:_val(val)</span><br><span class="line">	, _parent(nullptr)</span><br><span class="line">	, _left(nullptr)</span><br><span class="line">	, _right(nullptr)</span><br><span class="line">	, _bf(0)</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>不需要什么参数，就传过来一个值即可，如果没传，就调用这里的缺省值。</p>
<h1 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h1><p>其实插入跟之前二叉搜索树是一样的</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_60306111/article/details/125993690?spm=1001.2014.3001.5501">【C++】二叉搜索树_Knous的博客-CSDN博客</a></p>
<p>但是不同的地方在于，我们插入之后要更新我们的平衡因子，不是更新插入节点的，而是更新父亲节点的。</p>
<p>这里看图：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159492.png" alt="img"></p>
<p> 这里就要提一下，平衡因子是怎么算的：</p>
<p>如果左子树插入一个节点，那父亲的平衡因子就-1</p>
<p>如果右子树插入一个节点，那父亲的平衡因子就+1</p>
<p>按照上面逻辑，现在算一下插入之前的平衡因子：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159065.png" alt="img"></p>
<p>现在插入一个：</p>
<p> <img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159361.png" alt="img"></p>
<p>此时，这棵树就很平衡，当然，也可以在其他地方插入，那就会不平衡，这里我们先写一个插入，不平衡的情况之后分析。</p>
<p>先写一个模板，这个模板里面只有一个参数，就是根节点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">template&lt;class T&gt;</span><br><span class="line">class AVLTree</span><br><span class="line">&#123;</span><br><span class="line">	typedef AVLTreeNode&lt;T&gt; Node;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">	Node* _root;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h2 id="插入-1"><a href="#插入-1" class="headerlink" title="插入"></a>插入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">bool insert(const T&amp; val)</span><br><span class="line">&#123;</span><br><span class="line">	if (_root == nullptr)</span><br><span class="line">	&#123;</span><br><span class="line">		_root = new Node(val);</span><br><span class="line">		return true;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		//插入</span><br><span class="line">		Node* cur = _root;</span><br><span class="line">		Node* parent = cur-&gt;_parent;</span><br><span class="line">		while (cur)</span><br><span class="line">		&#123;</span><br><span class="line">			if (cur-&gt;_val &gt; val)</span><br><span class="line">			&#123;</span><br><span class="line">				parent = cur;</span><br><span class="line">				cur = cur-&gt;_left;</span><br><span class="line">			&#125;</span><br><span class="line">			else if (cur-&gt;_val &lt; val)</span><br><span class="line">			&#123;</span><br><span class="line">				parent = cur;</span><br><span class="line">				cur = cur-&gt;_right;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">				assert(false);</span><br><span class="line">		&#125;</span><br><span class="line">		cur = new Node(val);</span><br><span class="line">		if (cur == parent-&gt;_left)</span><br><span class="line">			parent-&gt;_left = cur;</span><br><span class="line">		else</span><br><span class="line">			parent-&gt;_right = cur;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h3 id="调整"><a href="#调整" class="headerlink" title="调整"></a>调整</h3><p>我们插入完后，要更新父亲节点的平衡因子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//更新平衡因子</span><br><span class="line">while (parent)</span><br><span class="line">&#123;</span><br><span class="line">	if (cur == parent-&gt;_left)</span><br><span class="line">		parent-&gt;_bf--;</span><br><span class="line">	else</span><br><span class="line">		parent-&gt;_bf++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>更新完了，就该判断是否平衡了</p>
<p>这里简单看几个图分析情况：</p>
<p>第一种情况：</p>
<h3 id="右单旋"><a href="#右单旋" class="headerlink" title="右单旋"></a>右单旋</h3><p>假设此时已经左边高了，而我们又在左边插入了一个元素，此时，就变成了这样的情况，为了方便后续操作，将这个三个节点分别称之为：A&#x2F;B&#x2F;C </p>
<p> <img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159118.png" alt="img"></p>
<p>将最高的那个节点拿下来，将其最为第二高的右节点</p>
<p>假设情况在复杂一点：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159798.png" alt="img"></p>
<p>我们看一下插入前后的平衡因子：</p>
<p> <img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159020.png" alt="img"></p>
<p>当前节点为-1且父亲节点为-2，这就要右旋转了,为了之后方便写代码，这里将节点重新取名</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159023.png" alt="img"></p>
<p>这样，高度不仅没变，还保持了二叉搜索树的条件，为了方便阅读，这里给节点单独取名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">void _RotateR(Node* parent)</span><br><span class="line">&#123;</span><br><span class="line">	Node* subL = parent-&gt;_left;</span><br><span class="line">	Node* subLR = subR-&gt;_right;</span><br><span class="line"></span><br><span class="line">	Node* pparent = parent-&gt;_parent;</span><br><span class="line"></span><br><span class="line">	if (subLR)</span><br><span class="line">		subLR-&gt;_parent = parent;</span><br><span class="line"></span><br><span class="line">	subL-&gt;_right = parent;</span><br><span class="line">	parent-&gt;_left = subLR;</span><br><span class="line"></span><br><span class="line">	if (parent == _root)</span><br><span class="line">	&#123;</span><br><span class="line">		_root = subL;</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		if (parent == pparent-&gt;_left)</span><br><span class="line">			pparent-&gt;_left = subL;</span><br><span class="line">		else</span><br><span class="line">			pparent-&gt;_right = subL;</span><br><span class="line">		subL-&gt;_parent = pparent;</span><br><span class="line">	&#125;</span><br><span class="line">	parent-&gt;_bf = subL-&gt;_bf = 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>这里可以对照着图理解一下，因为最后旋转完高度应该是一样的，所以平衡因子应该重置为0</p>
<p>-–</p>
<h3 id="左单旋"><a href="#左单旋" class="headerlink" title="左单旋"></a>左单旋</h3><p>这种完全是跟右单旋反过来，它是这样的图：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159208.png" alt="img"></p>
<p>具体思路跟右单旋相反：</p>
<p><img src="https://img-blog.csdnimg.cn/85f0942073bb47558fd03611306c03bf.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑 具体思路差不多，看代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">void _RotateL(Node* parent)</span><br><span class="line">&#123;</span><br><span class="line">	Node* subR = parent-&gt;_right;</span><br><span class="line">	Node* subRL = subR-&gt;_left;</span><br><span class="line"></span><br><span class="line">	if (subRL)</span><br><span class="line">		subRL-&gt;_parent = parent;</span><br><span class="line"></span><br><span class="line">	Node* pparent = parent-&gt;_parent;</span><br><span class="line">	subR-&gt;_left = parent;</span><br><span class="line">	parent-&gt;_right = subRL;</span><br><span class="line">	parent-&gt;_parent = subR;</span><br><span class="line"></span><br><span class="line">	if (parent == _root)</span><br><span class="line">		_root = subR;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		if (pparent-&gt;_left == parent)</span><br><span class="line">			pparent-&gt;_left = subR;</span><br><span class="line">		else</span><br><span class="line">			pparent-&gt;_right = subR;</span><br><span class="line">	&#125;</span><br><span class="line">	s</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>写完了先来测试一下效果：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159911.png" alt="img"></p>
<p>这是一个左单旋，2的左边是1，右边是3，调整没问题。</p>
<p> <img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201159821.png" alt="img"></p>
<p> 右单选，也没问题</p>
<p>-–</p>
<h3 id="左右双旋"><a href="#左右双旋" class="headerlink" title="左右双旋"></a>左右双旋</h3><p>有时，就会出现这种情况，A B C不都在一边，对于A来说，B在它的左边，对于B来说，C在它的右边，此时就不是单纯的左旋转或者右旋转能解决问题的了。</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201200940.png" alt="img"></p>
<p> 此时，无论在E、F哪边插入，都会失去平衡，面对这种情况，我们就要考虑双旋，转两次来解决问题</p>
<p>这时，我们就要先左旋，再右旋：</p>
<p>左旋：</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201200530.png" alt="img"><img src="/" alt="点击并拖拽以移动"></p>
<p>再右旋；</p>
<p> <img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201200830.png" alt="img"></p>
<p>此时，就完成了对称调整</p>
<p>这里要注意的一点是，在调整之前C的平衡因子是多少，因为会有以下几种情况：</p>
<p>假设C调整之前是-1，说明在E插入，即上图调整</p>
<p>假设C调整之前是1，说明在F插入，即下图调整</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201200343.png" alt="img"></p>
<p>根据调整之前不同，AB的值也不同</p>
<p>如果是-1：A&#x3D; -1，B&#x3D;C&#x3D;0</p>
<p>如果是1：B&#x3D;1,A&#x3D;C&#x3D;0</p>
<p>这里复用之前写好的旋转逻辑即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">void _RotateLR(Node* parent)</span><br><span class="line">&#123;</span><br><span class="line">	Node* subL = parent-&gt;_left;//B</span><br><span class="line">	Node* subLR = subL-&gt;_right;//C</span><br><span class="line">	int bf = subLR-&gt;_bf;</span><br><span class="line">	_RotateL(parent-&gt;_left);</span><br><span class="line">	_RotateR(parent);</span><br><span class="line"></span><br><span class="line">	if (bf == 1)</span><br><span class="line">		subL-&gt;_bf = -1;</span><br><span class="line">	else if (bf == -1)</span><br><span class="line">		parent-&gt;_bf = 1;</span><br><span class="line">	else</span><br><span class="line">		assert(false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h3 id="右左双旋"><a href="#右左双旋" class="headerlink" title="右左双旋"></a>右左双旋</h3><p>大体可以参考左右双旋，思路也是一样的</p>
<p><img src="https://knous.oss-cn-nanjing.aliyuncs.com/PicGo/202208201200257.png" alt="img"></p>
<p> 几乎是镜像左右旋，同样根据C的bf值有不同的结果，最后调整一下即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">void _RotateRL(Node* parent)</span><br><span class="line">&#123;</span><br><span class="line">	Node* subR = parent-&gt;_right;</span><br><span class="line">	Node* subRL = subR-&gt;_left;</span><br><span class="line">	int bf = subRL-&gt;_bf;</span><br><span class="line">	_RotateR(parent-&gt;_right);</span><br><span class="line">	_RotateL(parent);</span><br><span class="line"></span><br><span class="line">	if (bf == -1)</span><br><span class="line">		subR-&gt;_bf = 1;</span><br><span class="line">	else if (bf == 1)</span><br><span class="line">		parent-&gt;_bf = -1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>删除之后也许会更新，了解插入的旋转可以帮助我们理解二叉搜索树的结构了</p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://example.com/2022/08/02/avl/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://example.com/2022/08/02/avl/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a target="_blank" rel="noopener" href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
